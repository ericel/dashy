"use strict";angular.module("dashyAppApp",["ngAnimate","ngAria","ngCookies","ngMessages","ngResource","ngSanitize","ngTouch","ui.router","ui.router.title","googlechart","chart.js","ds.clock","datatables"]).config(["$controllerProvider","$stateProvider","$urlRouterProvider",function(a,b,c){a.allowGlobals(),c.otherwise("/home"),b.state("home",{url:"/home",templateUrl:"views/main.html",controller:"MainCtrl",resolve:{$title:function(){return"Welcome To Dashy"}}}).state("dashykeymetrics",{url:"/dashykeymetrics",templateUrl:"views/dashy2.html",controller:"Dashy2Ctrl",resolve:{$title:function(){return"Dashy Key Metrics"}}}).state("dashydataview",{url:"/dashydataview",templateUrl:"views/dashy3.html",controller:"Dashy3Ctrl",resolve:{$title:function(){return"Dashy Data View"}}}),$(".menu li span").hasClass("closed")||($(".menu li").find("span").addClass("closed"),$(".menu li").mouseenter(function(){$(this).find(".closed").show()}),$(".menu li ").mouseleave(function(){$(this).find(".closed").hide()})),$(".icon-menu").click(function(){return $("body").hasClass("opened")?($(".menu").animate({width:"59px"},300),$(".container").animate({paddingLeft:"10px"},300),$("body").removeClass("opened"),$(".menu li").find("span").addClass("closed"),$(".menu li").find("span").hide()):($(".menu").animate({width:"193px"},300),$(".container").animate({paddingLeft:"150px"},300),$("body").addClass("opened"),$(".menu li").find("span").removeClass("closed"),$(".menu li span").show()),!1}),$(".searchbtn").click(function(){$(".searchform").toggle("slide")}),$("html").click(function(){$("body").hasClass("opened")&&($(".menu").animate({width:"59px"},300),$(".container").animate({paddingLeft:"10px"},300),$("body").removeClass("opened"),$(".menu li").find("span").addClass("closed"),$(".menu li").find("span").hide())})}]),angular.module("dashyAppApp").controller("MainCtrl",["$scope","employees","$interval","$timeout","$http",function(a,b,c,d,e){var f=this;a.getData=function(){e.get("./data/employee.json").then(function(b){a.responseData=b.data,f.items=b.data;var d=f.items.countries.map(function(a){return a.country}),e=f.items.countries.map(function(a){return a.employ_count}),g=f.items.countries.map(function(a){return a.allissues}),h=f.items.countries.map(function(a){return a.open_issues}),i=f.items.countries.map(function(a){return a.closed_issues}),j=f.items.countries.map(function(a){return[a.country,a.employ_count]}),k=f.items.countries.map(function(a){return[a.country,a.employ_count,a.allissues,a.open_issues,a.closed_issues]});f.items.countries.map(function(a){return a.payin_cust});Array.prototype.insert=function(a,b){this.splice(a,0,b)},j.insert(0,["Locale","Count"]),k.insert(0,["Locale","Count","Issues","Open Issues","Closed Issues"]);var l={};l.type="GeoChart",l.data=j,l.options={width:"100%",height:300,chartArea:{left:10,top:10,bottom:0,height:"100%"},colorAxis:{colors:["#70ABAF","#0E5660"]},displayMode:"world",backgroundColor:"#f5f5f5",datalessRegionColor:"#3a3633",defaultColor:"#f5f5f5"},l.formatters={number:[{columnNum:1,pattern:" #,##0.00"}]},a.chart=l,a.labelspie=d,a.datapie=e,a.labels=d,a.series=["Employees","Issues","Open Issues","Closed Issues","Some"],c(function(){var a=Math.floor(900*Math.random()+100),b=Math.floor(500*Math.random()+200),c=Math.floor(700*Math.random()+50),d=Math.floor(900*Math.random()+30),f=Math.floor(511*Math.random()+110);g.splice(2,1,a),g.splice(4,1,b),g.splice(3,1,f),g.splice(5,1,d),h.splice(4,1,b),h.splice(5,1,f),h.splice(2,1,a),i.splice(1,1,c),e.splice(5,1,f),e.splice(6,1,a),e.splice(4,1,b),e.splice(3,1,c)},5e3),a.data=[e,g,h,i],a.onClick=function(a,b){console.log(a,b)},a.datasetOverride=[{yAxisID:"y-axis-1"},{yAxisID:"y-axis-2"}],a.options={responsive:!0,maintainAspectRatio:!1,scales:{yAxes:[{id:"y-axis-1",type:"linear",display:!0,position:"left"},{id:"y-axis-2",type:"linear",display:!0,position:"right"}]}},a.orderProp="s_time"})},a.getData(),c(function(){a.getData()},9e3),e.get("./data/employee.json").then(function(b){a.responseData=b.data,f.items=b.data;var c=(f.items.countries.map(function(a){return a.country}),f.items.countries.map(function(a){return a.employ_count})),d=f.items.countries.map(function(a){return a.allissues}),e=f.items.countries.map(function(a){return a.open_issues}),g=f.items.countries.map(function(a){return a.closed_issues}),h=(f.items.countries.map(function(a){return[a.country,a.employ_count]}),f.items.issues.map(function(a){return[a.country,a.employ_count,a.allissues,a.open_issues,a.closed_issues]}),f.items.issues.map(function(a){return a.payin_cust}));$.fn.countTo=function(a){function b(a,b){return a+b}var c=this,d=0,e=a.reduce(b,0),f=setInterval(function(){d==e?clearInterval(f):d++,c.text(d)},50);return this},$(".stats_em").countTo(c),$(".stats_iss").countTo(d),$(".stats_open").countTo(e),$(".stats_cl").countTo(g),$(".stats_py").countTo(h),$(".stats_cu").countTo(h)})}]),angular.module("dashyAppApp").controller("Dashy2Ctrl",["$scope","employees","$interval","$timeout","$http",function(a,b,c,d,e){var f=this;a.getData=function(){e.get("./data/employee.json").then(function(b){a.responseData=b.data,f.items=b.data;var e=f.items.countries.map(function(a){return a.country}),g=f.items.countries.map(function(a){return a.employ_count}),h=f.items.countries.map(function(a){return a.allissues}),i=f.items.countries.map(function(a){return a.open_issues}),j=f.items.countries.map(function(a){return a.closed_issues}),k=f.items.countries.map(function(a){return[a.country,a.employ_count]}),l=f.items.countries.map(function(a){return[a.country,a.employ_count,a.allissues,a.open_issues,a.closed_issues]}),m=f.items.countries.map(function(a){return a.payin_cust});Array.prototype.insert=function(a,b){this.splice(a,0,b)},k.insert(0,["Locale","Count"]),l.insert(0,["Locale","Count","Issues","Open Issues","Closed Issues"]),a.labelsperiod=["2006","2007","2008","2009","2010","2011","2012"],a.seriesreported=["Reported Issues"],d(function(){a.datareported=[h]},100),a.labels=e,a.series=["Employees","Issues","Open Issues","Closed Issues"],c(function(){var a=Math.floor(900*Math.random()+100),b=Math.floor(500*Math.random()+200),c=Math.floor(700*Math.random()+50),d=Math.floor(900*Math.random()+30),e=Math.floor(511*Math.random()+110);h.splice(2,1,a),h.splice(4,1,b),h.splice(3,1,e),h.splice(5,1,d),i.splice(4,1,b),i.splice(5,1,e),i.splice(2,1,a),j.splice(1,1,c),g.splice(5,1,e),g.splice(6,1,a),g.splice(4,1,b),g.splice(3,1,c)},6e3),d(function(){a.data=[g,h,i,j]},100),a.seriespaying_cust=["Paying Customers"],d(function(){a.datapaying_cust=[m]},500),d(function(){a.datapaying_cust=[h]},2500),a.onClick=function(a,b){console.log(a,b)},a.datasetOverride=[{yAxisID:"y-axis-1"},{yAxisID:"y-axis-2"}],a.options={responsive:!0,maintainAspectRatio:!1,scales:{yAxes:[{id:"y-axis-1",type:"linear",display:!0,position:"left"},{id:"y-axis-2",type:"linear",display:!0,position:"right"}]}}})},a.getData(),c(function(){a.getData()},9e3)}]),angular.module("dashyAppApp").controller("Dashy3Ctrl",["$scope","employees","$http","$interval",function(a,b,c,d){var e=this;a.getData=function(){c.get("./data/employee.json").then(function(b){e.items=b.data,a.items=e.items})},a.getData()}]),angular.module("dashyAppApp").service("employees",function(){this.getEmployees=function(){return $.get("./data/employee.json")},this.getEmployees01=function(){return $.get("./data/employee01.json")}}),angular.module("dashyAppApp").run(["$templateCache",function(a){a.put("views/dashy2.html",'<main> <div class="panel panel-default"> <div class="panel-body"> <canvas id="line" class="chart chart-line" chart-data="data" chart-labels="labels" chart-series="series" chart-options="options" chart-dataset-override="datasetOverride" chart-click="onClick" height="350" width="100%"></canvas> </div> </div>  </main> <section class="row"> <div class="col-xs-12 col-md-6"> <div class="panel panel-default"> <div class="panel-heading">Paying Customers</div> <div class="panel-body"> <canvas class="chart chart-line" chart-data="datapaying_cust" chart-labels="labelsperiod" chart-series="seriespaying_cust" chart-options="options" chart-dataset-override="datasetOverride" chart-click="onClick" height="200"></canvas> </div> </div> </div> <div class="col-xs-12 col-md-6"> <div class="panel panel-default"> <div class="panel-heading head_p">Reported Issues</div> <div class="panel-body"> <canvas id="bar" class="chart chart-bar" chart-data="datareported" chart-labels="labelsperiod" chart-series="seriesreported"> </canvas> </div> </div> </div> </section>'),a.put("views/dashy3.html",'<div class="col-md-12 col-sm-12 col-xs-12"> <div class="clearfix"></div> <div class="panel panel-default"> <div class="panel-heading panelsecond"><span class="glyphicon glyphicon-remove marker"></span> Recent Issues <span class="pull-right glyphicon glyphicon-remove closex"></span></div> <div class="panel-body thisistable"> <table id="thistable" datatable="ng" class="hover table table-condensed display wrap" cellspacing="0" width="100%"> <thead> <tr class="success"> <th>Country</th> <th>Customer Email</th> <th>Issue</th> <th>Sub. Date</th> <th>Closed. Date</th> <th>Employee</th> <th>status</th> </tr> </thead> <tbody> <tr ng-repeat="issue in items.issues | orderBy:orderProp"> <td>{{ issue.country }}</td> <td>{{ issue.cust_email }}</td> <td>{{ issue.issu_des }}</td> <td>{{ issue.s_time }}</td> <td>{{ issue.issu_closed_time }}</td> <td>{{ issue.cus_name }}</td> <td>{{ issue.emplo_closed_name }}</td> </tr> </tbody> </table> </div> </div> </div> <script>var headertext = [];\nvar headers = document.querySelectorAll("thead");\nvar tablebody = document.querySelectorAll("tbody");\n\nfor (var i = 0; i < headers.length; i++) {\n  headertext[i]=[];\n  for (var j = 0, headrow; headrow = headers[i].rows[0].cells[j]; j++) {\n    var current = headrow;\n    headertext[i].push(current.textContent);\n    }\n} \n\nfor (var h = 0, tbody; tbody = tablebody[h]; h++) {\n  for (var i = 0, row; row = tbody.rows[i]; i++) {\n    for (var j = 0, col; col = row.cells[j]; j++) {\n      col.setAttribute("data-th", headertext[h][j]);\n    } \n  }\n}</script>'),a.put("views/main.html",'<div class="box-1"> <div class="row"> <div class="col-md-2 col-sm-4 col-xs-6 card-blocks"> <span class="small"><span class="glyphicon glyphicon-user"></span> Total employees</span> <div class="stat-st stats_em">1029</div> <span class="glyphicon glyphicon-chevron-up stat green"></span> Per Year Data </div> <div class="col-md-2 col-sm-4 col-xs-6 card-blocks"> <span class="small"><span class="glyphicon glyphicon-eye-close"></span> All issues</span> <div class="stat-st stats_iss">1029</div> <span class="glyphicon glyphicon-chevron-down stat green"></span> Per Year Data </div> <div class="col-md-2 col-sm-4 col-xs-6 card-blocks"> <span class="small"><span class="glyphicon glyphicon-tint"></span> Open issues</span> <div class="stat-st stats_open">1029</div> <span class="glyphicon glyphicon-chevron-up stat red"></span> Per Year Data </div> <div class="col-md-2 col-sm-4 col-xs-6 card-blocks"> <span class="small"><span class="glyphicon glyphicon-tint"></span> Closed issues</span> <div class="stat-st stats_cl">1029</div> <span class="glyphicon glyphicon-chevron-up stat red"></span> Per Year Data </div> <div class="col-md-2 col-sm-4 col-xs-6 card-blocks"> <span class="small"><span class="glyphicon glyphicon-eye-close"></span> P. customers</span> <div class="stat-st stats_py">1029</div> <span class="glyphicon glyphicon-chevron-down stat green"></span> Per Year Data </div> <div class="col-md-2 col-sm-4 col-xs-6 card-blocks"> <span class="small"><span class="glyphicon glyphicon-plus-sign"></span> Customer count</span> <div class="stat-st stats_cu">1029</div> <span class="glyphicon glyphicon-chevron-up stat green"></span> Per Year Data </div> </div> </div> <div> </div> <section> <div class="box-2"> <div class="box-2-semi"> <span class="glyphicon glyphicon-stats"></span> Live Statistics <ul class="nav nav-tabs pull-right"> <li class="active"><a href="#stat1" data-toggle="tab"><span class="glyphicon glyphicon-time"></span> Home</a></li> <li><a href="#stat2" data-toggle="tab"><span class="glyphicon glyphicon-exclamation-sign"></span> Issues</a></li> </ul> <div class="clearfix"></div> </div> <div class="tab-content bor-der"> <div id="stat1" class="tab-pane fade in active"> <div class="row"> <div class="col-xs-12 col-md-6 geospartial"> <div google-chart chart="chart"></div> </div> <div class="col-xs-12 col-md-6 bar-chart"> <canvas id="pie" class="chart chart-pie" chart-data="datapie" chart-labels="labelspie" chart-options="options"></canvas> <div class="chartsmall"> <canvas class="chart chart-line" chart-data="data" chart-labels="labels" chart-series="series" chart-options="options" chart-dataset-override="datasetOverride" chart-click="onClick" width="90%" height="90"></canvas> </div> </div> </div> </div> <div id="stat2" class="tab-pane fade" style="width: 100%; height:20%"> <div style="display: block; box-sizing: border-box" class="conatainer"> <canvas class="chart chart-line" chart-data="data" chart-labels="labels" chart-series="series" chart-options="options" chart-dataset-override="datasetOverride" chart-click="onClick" width="300" height="300"></canvas> </div> </div> </div> <div class="box-2-semi-up"> </div> </div></section> <section class="sec-2 row"> <div class="col-xs-12 col-md-6"> <div class="panel panel-default"> <div class="panel-heading"><span class="glyphicon glyphicon-map-marker marker"></span> Company Management <span class="pull-right glyphicon glyphicon-remove closex"></span></div> <div class="panel-body"> <table class="table"> <thead> <tr class="success"> <th>Country</th> <th>Manager</th> <th>Company Name</th> </tr> </thead> <tbody> <tr class="info" ng-repeat="company in responseData.countries"> <td>{{ company.country }}</td> <td>{{ company.manager }}</td> <td>{{ company.commpanyname }}</td> </tr> </tbody> </table> </div> </div> <div class="panel panel-default"> <div class="panel-heading"><span class="glyphicon glyphicon-volume-up marker"></span> Some updates <span class="pull-right glyphicon glyphicon-remove closex"></span></div> <div class="panel-body"><p class="alert alert-success">This page is temporarily disabled by the site administrator for some reason.<br>to enable the page.</p> <p class="alert alert-info"> What is Lorem Ipsum? Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry\'s standard dummy text</p><p class="alert alert-warning"> ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting </p> </div> </div> </div> <div class="col-xs-12 col-md-6"> <div class="panel panel-default"> <div class="panel-heading"><span class="glyphicon glyphicon-remove marker"></span> Recent Issues <span class="pull-right glyphicon glyphicon-remove closex"></span></div> <div class="panel-body"> <table class="row-border hover"> <thead> <tr> <th>Country</th> <th>Issue</th> <th>Date</th> </tr> </thead> <tbody> <tr ng-repeat="issue in responseData.issues | filter:{ issu_status: 0 } | orderBy:orderProp" ng-if="$index < 5"> <td>{{ issue.country }} </td> <td>{{ issue.issu_des }}</td> <td>{{ issue.s_time }}</td> </tr> </tbody> </table> </div> </div> <div class="panel panel-default"> <div class="panel-heading"><span class="glyphicon glyphicon-calendar marker"></span> Some updates <span class="pull-right glyphicon glyphicon-remove closex"></span></div> <div class="panel-body">This page is temporarily disabled by the site administrator for some reason.<br> to enable the page. <p> What is Lorem Ipsum? Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry\'s standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum. </p> </div> </div> </div> <div class="clearfix"></div> </section> <script>var headertext = [];\nvar headers = document.querySelectorAll("thead");\nvar tablebody = document.querySelectorAll("tbody");\n\nfor (var i = 0; i < headers.length; i++) {\n  headertext[i]=[];\n  for (var j = 0, headrow; headrow = headers[i].rows[0].cells[j]; j++) {\n    var current = headrow;\n    headertext[i].push(current.textContent);\n    }\n} \n\nfor (var h = 0, tbody; tbody = tablebody[h]; h++) {\n  for (var i = 0, row; row = tbody.rows[i]; i++) {\n    for (var j = 0, col; col = row.cells[j]; j++) {\n      col.setAttribute("data-th", headertext[h][j]);\n    } \n  }\n}</script>')}]);